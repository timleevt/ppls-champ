(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,t,a){e.exports=a(42)},40:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),s=a.n(r),i=a(2),c=a(3),o=a(4),m=a(5),u=a(6),d=a.n(u),p=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={ranking:[]},e.fetchRankingList=function(){d.a.get("/".concat(e.props.url)).then((function(t){if(e.props.url.includes("userlist")){var a=t.data,n=[];for(var l in a)l.includes("rank")&&n.push(a[l]);e.setState({ranking:n})}else{var r=t.data.slice(0,10);e.setState({ranking:r})}}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.fetchRankingList()}},{key:"componentDidUpdate",value:function(e){this.props.url!==e.url&&this.fetchRankingList()}},{key:"render",value:function(){return l.a.createElement("div",{className:"content"},l.a.createElement("h4",null,this.props.title),l.a.createElement("ol",null,this.state.ranking.map((function(e,t){return l.a.createElement("li",{key:t},e)}))))}}]),a}(l.a.Component),h=a(17),b=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={boxrecList:[]},e.renderRankSelectOption=function(){if(e.state.boxrecList){var t=e.state.boxrecList.map((function(e,t){return l.a.createElement("option",{key:t},e)}));return t.unshift(l.a.createElement("option",{key:"default-select",value:"DEFAULT",hidden:!0,disabled:!0},"Select")),t}},e.renderRankSelect=function(){if(e.state.boxrecList){for(var t=[],a=1;a<=10;a++)t.push(l.a.createElement("div",{key:a,className:"field is-horizontal"},l.a.createElement("div",{className:"field-label is-normal"},l.a.createElement("label",{className:"label"},"Rank #",a)),l.a.createElement("div",{className:"field-body"},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("div",{className:"select"},l.a.createElement("select",{defaultValue:"DEFAULT",name:"rank_".concat(a),required:!0},e.renderRankSelectOption())))))));return t}return l.a.createElement("div",null,"Loading..")},e.onNewUserListFormSubmit=function(t){t.preventDefault();var a,n={},l=new FormData(t.target),r=!1,s=Object(h.a)(l.entries());try{for(s.s();!(a=s.n()).done;){var i=a.value,c=document.getElementsByName(i[0])[0].parentElement;c.classList.remove("is-danger"),Object.values(n).indexOf(i[1])>-1&&(c.classList.add("is-danger"),r=!0),n[i[0]]=i[1]}}catch(o){s.e(o)}finally{s.f()}r?document.getElementById("test-hidden").style.visibility="visible":d.a.post("/userlist",n).then((function(t){console.log(t),e.props.onNewUserSubmit(n.userID)})).catch((function(e){console.log(e)}))},e.onLoadUserSubmit=function(t){t.preventDefault();var a=new FormData(t.target);e.props.onLoadUserSubmit(t,a.getAll("userID")[0])},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;d.a.get("/rankings/boxrec").then((function(t){var a=t.data;a.sort(),e.setState({boxrecList:a})})),document.getElementById("test-hidden").style.visibility="hidden"}},{key:"render",value:function(){return l.a.createElement("div",{className:"field"},l.a.createElement("form",{onSubmit:this.onLoadUserSubmit},l.a.createElement("p",{className:"help"},"Have a list already? Load it here"),l.a.createElement("div",{className:"field has-addons"},l.a.createElement("div",{className:"control is-expanded"},l.a.createElement("input",{name:"userID",className:"input",type:"text",placeholder:"User ID"})),l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link"},"Load")))),l.a.createElement("hr",null),l.a.createElement("form",{onSubmit:this.onNewUserListFormSubmit},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Create your list")),l.a.createElement("div",{className:"field"},l.a.createElement("input",{name:"userID",className:"input",type:"text",placeholder:"User ID",required:!0})),l.a.createElement("div",{id:"rank-select-container",className:"field"},this.renderRankSelect(),l.a.createElement("p",{id:"test-hidden",className:"help is-danger"},"Invalid input: duplicate entry")),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link"},"Submit")),l.a.createElement("div",{className:"control"},l.a.createElement("button",{onClick:this.props.toggleModal,className:"button is-link is-light"},"Cancel")))))}}]),a}(l.a.Component),v=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return this.props.show?l.a.createElement("div",{className:"modal is-active"},l.a.createElement("div",{className:"modal-background"}),l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"box"},l.a.createElement(b,{key:"user-list-form",onLoadUserSubmit:this.props.onLoadUserSubmit,toggleModal:this.props.toggleModal,onNewUserSubmit:this.props.onNewUserSubmit}))),l.a.createElement("button",{className:"modal-close is-large","aria-label":"close",onClick:this.props.toggleModal})):null}}]),a}(l.a.Component),f=(a(40),function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={showUserListModal:!1,mylist:null,mylistURL:null},e.renderRankLists=function(){return l.a.createElement(l.a.Fragment,null,e.state.mylist&&l.a.createElement("div",{className:"rank-list column"},l.a.createElement(p,{key:"ml",title:e.state.mylist,url:e.state.mylistURL})),l.a.createElement("div",{className:"rank-list column"},l.a.createElement(p,{key:"tpc",title:"The People's Champ",url:"community"})),l.a.createElement("div",{className:"rank-list column"},l.a.createElement(p,{key:"br",title:"Boxrec",url:"rankings/boxrec"})),l.a.createElement("div",{className:"rank-list column"},l.a.createElement(p,{key:"tbrb",title:"TBRB",url:"rankings/tbrb"})),l.a.createElement("div",{className:"rank-list column"},l.a.createElement(p,{key:"ring",title:"The Ring",url:"rankings/thering"})))},e.toggleModal=function(t){t.preventDefault(),e.setState({showUserListModal:!e.state.showUserListModal})},e.onLoadUserSubmit=function(t,a){t.preventDefault(),e.setState({mylist:"".concat(a,"'s list"),mylistURL:"userlist/".concat(a),showUserListModal:!1})},e.onNewUserSubmit=function(t){e.setState({mylist:"".concat(t,"'s list"),mylistURL:"userlist/".concat(t),showUserListModal:!1})},e}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"is-centered"},l.a.createElement("div",{className:"columns"},this.renderRankLists()),l.a.createElement("div",null,l.a.createElement("button",{className:"button is-large is-info is-fullwidth",onClick:this.toggleModal},"Create/Load your own list!")),l.a.createElement(v,{show:this.state.showUserListModal,toggleModal:this.toggleModal,onLoadUserSubmit:this.onLoadUserSubmit,onNewUserSubmit:this.onNewUserSubmit}))}}]),a}(l.a.Component)),E=function(){return l.a.createElement("div",{className:"container content"},l.a.createElement("div",{className:"level is-mobile "},l.a.createElement("h1",{className:"is-large"},"The People's Champ")))},g=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(E,null),l.a.createElement(f,null))}}]),a}(l.a.Component);a(41);s.a.render(l.a.createElement(g,null),document.querySelector("#root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.cf1f52bd.chunk.js.map